{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// 1. Даємо класи елементів в HTML для можливості стилізації по макету\n\nconst labels = document.querySelectorAll('label');\nlabels.forEach(label => label.classList.add('form-label'));\n\nconst input = document.querySelector('input');\ninput.classList.add('form-email');\n\nconst textarea = document.querySelector('textarea');\ntextarea.classList.add('form-message');\n\nconst button = document.querySelector('button');\nbutton.classList.add('form-btn');\n\n// 2. Оголошення зміних\nconst formData = {\n  email: '',\n  message: '',\n};\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nconst email = form.elements.email;\nconst message = form.elements.message;\n\n// 3. читаємо інформацію із сховища\nlet dataStorage = localStorage.getItem(localStorageKey);\n\ntry {\n  if (dataStorage !== null) {\n    let obj = JSON.parse(dataStorage);\n    formData = Object.assign(formData, obj);\n  }\n} catch (error) {\n  console.log(error.message);\n}\nemail.value = formData.email;\nmessage.value = formData.message;\n\n// 4. прослуховуємо введення і записуємо в сховище\nform.addEventListener('input', evt => {\n  switch (evt.target.name) {\n    case 'email':\n      formData.email = evt.target.value.trim();\n      break;\n    case 'message':\n      formData.message = evt.target.value.trim();\n  }\n  if (formData.email || formData.message) {\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  }\n});\n\n// 5. Відпрацювуємо submit\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  if (formData.email === '' || formData.message === '') {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n    localStorage.removeItem(localStorageKey);\n    formData.email = '';\n    formData.message = '';\n    form.reset();\n  }\n});\n"],"names":["labels","label","input","textarea","button","formData","form","localStorageKey","email","message","dataStorage","obj","error","evt"],"mappings":"oDAEA,MAAMA,EAAS,SAAS,iBAAiB,OAAO,EAChDA,EAAO,QAAQC,GAASA,EAAM,UAAU,IAAI,YAAY,CAAC,EAEzD,MAAMC,EAAQ,SAAS,cAAc,OAAO,EAC5CA,EAAM,UAAU,IAAI,YAAY,EAEhC,MAAMC,EAAW,SAAS,cAAc,UAAU,EAClDA,EAAS,UAAU,IAAI,cAAc,EAErC,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,UAAU,IAAI,UAAU,EAG/B,MAAMC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EACMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAClBC,EAAQF,EAAK,SAAS,MACtBG,EAAUH,EAAK,SAAS,QAG9B,IAAII,EAAc,aAAa,QAAQH,CAAe,EAEtD,GAAI,CACF,GAAIG,IAAgB,KAAM,CACxB,IAAIC,EAAM,KAAK,MAAMD,CAAW,EAChCL,EAAW,OAAO,OAAOA,EAAUM,CAAG,CACvC,CACH,OAASC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC3B,CACAJ,EAAM,MAAQH,EAAS,MACvBI,EAAQ,MAAQJ,EAAS,QAGzBC,EAAK,iBAAiB,QAASO,GAAO,CACpC,OAAQA,EAAI,OAAO,KAAI,CACrB,IAAK,QACHR,EAAS,MAAQQ,EAAI,OAAO,MAAM,KAAI,EACtC,MACF,IAAK,UACHR,EAAS,QAAUQ,EAAI,OAAO,MAAM,KAAI,CAC3C,EACGR,EAAS,OAASA,EAAS,UAC7B,aAAa,QAAQE,EAAiB,KAAK,UAAUF,CAAQ,CAAC,CAElE,CAAC,EAGDC,EAAK,iBAAiB,SAAUO,GAAO,CACrCA,EAAI,eAAc,EACdR,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,MAAM,wBAAwB,GAE9B,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWE,CAAe,EACvCF,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBC,EAAK,MAAK,EAEd,CAAC"}